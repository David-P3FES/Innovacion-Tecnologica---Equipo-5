/**
 * @file home.css
 * @description Estilos completos para la página home del sitio inmobiliario
 * @version 1.0
 */

/* =========================
   Variables
   ========================= */
:root{
  --home-primary:#9CB28A;
  --home-primary-600:#86A175;
  --home-secondary:#6E889B;
  --home-secondary-600:#5F788A;
  --home-bg:#F5F6F2;
  --home-surface:#ffffff;
  --home-text:#29323A;
  --home-text-light:#6b7280;
  --home-border:#e5e7eb;
  --home-shadow-sm:0 2px 8px rgba(0,0,0,.06);
  --home-shadow-lg:0 8px 24px rgba(0,0,0,.12);
  --home-pill:999px;
  --home-transition:all .3s cubic-bezier(.4,0,.2,1);
}

/* =========================
   Header
   ========================= */
.header{ 
  position:relative; 
  z-index:10; 
  --primary-gradient: linear-gradient(135deg, var(--olive), var(--blue-gray)); 
}

/* =========================
   Hero Full
   ========================= */
.home-hero-full{
  position:relative;
  width:100vw;
  min-height:88vh;
  margin-left:calc(-50vw + 50%);
  display:flex;
  align-items:center;
  justify-content:center;
  overflow:visible;
  isolation:isolate;
  margin-top:0!important;
  padding-top:calc(var(--header-height) - 200px);
  z-index:0;
}

/* Carrusel + Velo */
.home-hero-carousel,
.home-hero-veil{
  position:absolute;
  inset:0;
  clip-path: inset(calc(var(--header-height) - 200px) 0 0 0);
  z-index:0;
}

.home-hero-carousel__slide{
  position:absolute; 
  inset:0;
  background-size:cover; 
  background-position:center; 
  background-repeat:no-repeat;
  opacity:0; 
  transition:opacity 2s ease-in-out;
  will-change: opacity;
}
.home-hero-carousel__slide.active{ opacity:1; }
.home-hero-carousel__fallback{ background-image:linear-gradient(135deg,#9CB28A 0%,#6E889B 100%); }

.home-hero-veil{
  z-index:2; 
  pointer-events:none;
  background:
    radial-gradient(1200px 600px at 20% 10%, rgba(255,255,255,.18) 0%, transparent 60%),
    linear-gradient(135deg, rgba(156,178,138,.55) 0%, rgba(110,136,155,.5) 50%, rgba(156,178,138,.58) 100%);
}

/* Indicadores carrusel */
.home-hero-indicators{
  position:absolute; 
  bottom:2.25rem; 
  left:50%; 
  transform:translateX(-50%);
  z-index:4; 
  display:flex; 
  gap:.6rem; 
  align-items:center;
}
.home-hero-indicator{
  width:12px; height:12px; border:none; border-radius:var(--home-pill);
  background:rgba(255,255,255,.55);
  backdrop-filter:blur(10px);
  box-shadow:0 8px 22px rgba(0,0,0,.18);
  cursor:pointer;
  transition:transform .25s ease, background .25s ease, width .25s ease, border-radius .25s ease;
}
.home-hero-indicator:hover{ transform:scale(1.15); background:#fff; }
.home-hero-indicator.active{ width:28px; border-radius:8px; background:#fff; }

/* Contenido hero */
.home-hero-full__content{
  position:relative; z-index:3; max-width:960px; width:100%;
  padding:0 2rem; text-align:center; transform:translateY(-6vh);
  overflow:visible;
}
.home-hero-full__icon{ margin-bottom:1.1rem; }
.home-hero-full__icon svg{ width:64px; height:64px; color:#fff; opacity:.95; }

.home-hero-full__title{
  margin:0 0 1.25rem;
  font-size:clamp(2.25rem, 6vw, 3.75rem);
  font-weight:900; line-height:1.08; color:#fff; letter-spacing:-.02em;
  text-shadow:0 8px 32px rgba(0,0,0,.6), 0 4px 16px rgba(0,0,0,.45), 0 2px 6px rgba(0,0,0,.4);
}
.home-hero-full__subtitle{
  margin:0 0 3rem; font-size:clamp(1.05rem, 2.1vw, 1.35rem); font-weight:500;
  color:rgba(255,255,255,.96); max-width:650px; margin-inline:auto;
  text-shadow:0 6px 28px rgba(0,0,0,.55), 0 3px 10px rgba(0,0,0,.4);
}

/* Buscador hero */
.home-search-full{
  display:flex; align-items:stretch; gap:0; max-width:920px; margin:0 auto;
  background:rgba(255,255,255,.98);
  backdrop-filter:blur(18px);
  border-radius:var(--home-pill); overflow:visible;
  box-shadow:0 18px 48px rgba(0,0,0,.28),0 0 0 1px rgba(255,255,255,.22);
  transition:var(--home-transition);
  position:relative; z-index:10;
}
.home-search-full:focus-within{ 
  box-shadow:0 24px 64px rgba(0,0,0,.32),0 0 0 4px rgba(255,255,255,.35); 
  transform:translateY(-3px); 
}
.home-search-full__field{ position:relative; display:flex; align-items:center; overflow:visible; }
.home-search-full__field--select{
  min-width:210px; border-right:1px solid rgba(156,178,138,.22);
  background:linear-gradient(135deg, rgba(156,178,138,.06), rgba(110,136,155,.06));
  position:relative; z-index:1000; overflow:visible;
}
.home-search-full__field--input{ flex:1; min-width:0; }
.home-search-full__icon{ position:absolute; left:1.2rem; color:var(--home-secondary); pointer-events:none; z-index:2; opacity:.9; }

.home-search-full__input{
  width:100%; height:70px; padding:0 1.25rem 0 3.2rem;
  border:none; outline:none; font-family:'Inter','Poppins',sans-serif;
  font-size:1.05rem; font-weight:700; color:var(--home-text);
  background:transparent; transition:var(--home-transition);
}
.home-search-full__input::placeholder{ color:var(--home-text-light); font-weight:400; }
.home-search-full__input:hover{ background:rgba(156,178,138,.06); }
.home-search-full__input:focus{ background:rgba(156,178,138,.08); }

/* Iconos de texto bajo */
.home-card__location svg,
.home-card__meta svg{
  width:16px; height:16px; flex:0 0 16px;
}

/* Select custom */
.custom-select-wrapper{ position:relative; width:100%; height:70px; }
.custom-select-trigger{
  width:100%; height:100%; padding:0 3rem 0 3.2rem; border:none; outline:none; background:transparent;
  font-family:'Inter','Poppins',sans-serif; font-size:1.05rem; font-weight:700; color:var(--home-text);
  text-align:left; cursor:pointer; display:flex; align-items:center; justify-content:space-between;
  transition:var(--home-transition);
}
.custom-select-trigger:hover{ background:rgba(156,178,138,.06); }
.custom-select-trigger.active{ box-shadow:inset 0 0 0 2px rgba(156,178,138,.25); }
.custom-select-value{ flex:1; }
.custom-select-arrow{ position:absolute; right:1.15rem; color:var(--home-secondary); transition:transform .3s ease; pointer-events:none; }
.custom-select-trigger.active .custom-select-arrow{ transform:rotate(180deg); }

.custom-select-dropdown{
  position:absolute; top:calc(100% + 8px); left:0; width:100%; min-width:250px; background:#fff;
  border-radius:16px; box-shadow:0 12px 32px rgba(0,0,0,.18), 0 0 0 1px rgba(156,178,138,.15);
  opacity:0; visibility:hidden; transform:translateY(-10px);
  transition:all .3s cubic-bezier(.4,0,.2,1); z-index:99999; overflow:visible;
  backdrop-filter:blur(10px); pointer-events:none;
}
.custom-select-dropdown.active{ opacity:1; visibility:visible; transform:translateY(0); pointer-events:auto; }
.custom-select-option{
  padding:1rem 1.5rem; font-family:'Inter','Poppins',sans-serif; font-size:1rem; font-weight:600;
  color:var(--home-text); cursor:pointer; transition:all .2s ease;
  border-bottom:1px solid rgba(156,178,138,.08); background:#ffffff;
}
.custom-select-option:last-child{ border-bottom:none; border-bottom-left-radius:16px; border-bottom-right-radius:16px; }
.custom-select-option:first-child{ border-top-left-radius:16px; border-top-right-radius:16px; }
.custom-select-option:hover{ background:linear-gradient(135deg, rgba(156,178,138,.12), rgba(110,136,155,.08)); padding-left:1.8rem; }
.custom-select-option.selected{ background:linear-gradient(135deg, var(--home-primary), var(--home-secondary)); color:#fff; font-weight:700; }
.custom-select-option[data-value=""]{ color:var(--home-text-light); font-weight:500; font-style:italic; }
.custom-select-option.selected[data-value=""]{ color:#fff; font-style:normal; }

/* Botón buscar */
.home-search-full__btn{
  display:inline-flex; align-items:center; gap:.6rem; padding:0 2.1rem; border:none;
  background:linear-gradient(135deg,var(--home-primary) 0%,var(--home-secondary) 100%);
  color:#fff; font-family:'Inter','Poppins',sans-serif; font-size:1.04rem; font-weight:800;
  cursor:pointer; transition:var(--home-transition); white-space:nowrap; text-transform:uppercase; letter-spacing:.4px;
  border-top-right-radius:var(--home-pill); border-bottom-right-radius:var(--home-pill);
}
.home-search-full__btn:hover{ transform:translateX(2px); filter:brightness(1.06); }
.home-search-full__btn:active{ transform:translateX(0); }

/* =========================
   Recientes
   ========================= */
.home-recientes{ max-width:1240px; margin:4.5rem auto; padding:0 2rem; }
.home-recientes__header1{ display:flex; align-items:center; gap:2rem; margin-bottom:2.25rem; }
.home-recientes__title{ margin:0 0 .4rem; font-size:1.9rem; font-weight:900; color:var(--home-text); letter-spacing:-.02em; }
.home-recientes__subtitle{ margin:0; font-size:.98rem; color:var(--home-text-light); font-weight:500; }
.home-recientes__line{ flex:1; height:3px; background:linear-gradient(90deg,rgba(156,178,138,.42) 0%,transparent 100%); border-radius:2px; }

/* Grid */
.home-grid{ display:grid; grid-template-columns:repeat(3,1fr); gap:1.5rem; justify-items:stretch; }

/* =========================
   Card
   ========================= */
.home-card{
  position:relative; background:var(--home-surface); border:1px solid var(--home-border);
  border-radius:18px; overflow:hidden; transition:var(--home-transition); box-shadow:var(--home-shadow-sm);
}
.home-card:hover{ transform:translateY(-5px); box-shadow:var(--home-shadow-lg); border-color:rgba(156,178,138,.38); }

/* IMPORTANTE: debajo del botón like */
.home-card__link{ position:absolute; inset:0; z-index:1; border-radius:inherit; }

/* Imagen */
.home-card__image{ position:relative; height:180px; background:linear-gradient(135deg,#f5f6f2 0%,#e6e7e8 100%); overflow:hidden; }
.home-card__image img{ width:100%; height:100%; object-fit:cover; transition:transform .5s cubic-bezier(.4,0,.2,1); }
.home-card:hover .home-card__image img{ transform:scale(1.06); }
.home-card__noimage{ display:flex; flex-direction:column; align-items:center; justify-content:center; height:100%; color:var(--home-text-light); }

/* Badges */
.home-badge{
  position:absolute; top:10px; left:10px; z-index:2; padding:.38rem .85rem; border-radius:12px;
  font-size:.78rem; font-weight:800; color:#fff; backdrop-filter:blur(10px); box-shadow:0 6px 16px rgba(0,0,0,.18);
}
.home-badge--disponible{ background:linear-gradient(135deg,#10b981 0%,#059669 100%); }
.home-badge--en_trato{ background:linear-gradient(135deg,#f59e0b 0%,#d97706 100%); }
.home-badge--cerrada{ background:linear-gradient(135deg,#6b7280 0%,#4b5563 100%); }

/* =========================
   Botón Like (COLORES SOLICITADOS)
   ========================= */
.home-like{
  position:absolute; top:10px; right:10px; z-index:5; /* por encima del cover link */
  display:inline-flex; align-items:center; justify-content:center;
  width:40px; height:40px; border-radius:var(--home-pill);
  border:1px solid rgba(255,255,255,.6);
  background:rgba(255,255,255,.95);     /* INACTIVO */
  backdrop-filter:blur(8px);
  cursor:pointer; transition:var(--home-transition);
  box-shadow:0 8px 18px rgba(0,0,0,.14);
}
.home-like__icon{ color:#98a2b3; transition:color .25s ease; } /* gris inactivo */
.home-like:hover{ background:#fff; }
.home-like:hover .home-like__icon{ color:#6E889B; }            /* hover azul-gris */

.home-like--active{
  background:linear-gradient(135deg,#9CB28A 0%, #6E889B 100%); /* ACTIVO */
  border-color:rgba(156,178,138,.45);
  box-shadow:0 10px 24px rgba(0,0,0,.18);
}
.home-like--active .home-like__icon{ color:#fff; }             /* corazón blanco activo */
.home-like-count{ display:none !important; }                    /* sin contador */

/* Cuerpo */
.home-card__body{ padding:1rem 1rem 1.1rem; display:flex; flex-direction:column; gap:.65rem; }
.home-card__header1{ display:flex; align-items:flex-start; justify-content:space-between; gap:.75rem; }
.home-card__title{ margin:0; font-size:1rem; font-weight:800; color:var(--home-text); overflow:hidden; text-overflow:ellipsis; }
.home-card__type{ padding:.25rem .65rem; border-radius:8px; font-size:.75rem; font-weight:700; white-space:nowrap; }
.home-card__type--venta{ background:rgba(156,178,138,.15); color:var(--home-primary); }
.home-card__type--renta{ background:rgba(110,136,155,.15); color:var(--home-secondary); }
.home-card__price{ font-size:1.35rem; font-weight:900; color:var(--home-primary); }
.home-card__location{ display:flex; align-items:center; gap:.4rem; color:var(--home-text-light); font-size:.95rem; }
.home-card__meta{ display:flex; align-items:center; gap:.4rem; color:var(--home-text-light); font-size:.9rem; }

/* Vendedor */
.home-card__seller{ display:flex; flex-direction:column; gap:.5rem; padding-top:.5rem; border-top:1px solid var(--home-border); }
.home-card__seller-info{ display:flex; flex-direction:column; gap:.2rem; }
.home-card__seller-label{ font-size:.8rem; color:var(--home-text-light); font-weight:500; }
.home-card__seller-name{ font-size:.9rem; color:var(--home-text); font-weight:700; }
.home-card__actions{ display:flex; justify-content:center; align-items:center; gap:1rem; margin-top:.35rem; }
.home-card__action{
  display:inline-flex; align-items:center; justify-content:center; width:40px; height:40px; border-radius:var(--home-pill);
  background:linear-gradient(180deg,#ffffff,#f7f9f5); border:1px solid #e6eadf; box-shadow:0 6px 14px rgba(0,0,0,.06);
  transition:transform .2s ease,box-shadow .2s ease,background .2s ease; z-index:2;
}
.home-card__action svg{ width:24px; height:24px; stroke:var(--home-primary); fill:none; }
.home-card__action--whatsapp svg{ stroke:var(--home-primary); fill:var(--home-primary); }
.home-card__action:hover{ transform:translateY(-2px); box-shadow:0 10px 20px rgba(0,0,0,.10); background:#fff; }
.home-card__action:hover svg{ stroke:var(--home-secondary); fill:var(--home-secondary); }

/* Estado vacío */
.home-empty{ display:flex; flex-direction:column; align-items:center; justify-content:center; padding:4rem 2rem; color:var(--home-text-light); }
.home-empty svg{ margin-bottom:1rem; opacity:.5; }
.home-empty p{ font-size:1.1rem; font-weight:500; }

/* Firefox select fallback */
@-moz-document url-prefix() {
  .home-search-full__select option { background:#ffffff; padding:0.85rem 1.25rem; }
  .home-search-full__select option:hover { background:rgba(156,178,138,0.15); }
  .home-search-full__select option:checked { background:linear-gradient(135deg, var(--home-primary), var(--home-secondary)); color:#ffffff; }
}

/* Scrollbar webkit */
@supports (-webkit-appearance:none) {
  .home-search-full__select::-webkit-scrollbar { width:8px; }
  .home-search-full__select::-webkit-scrollbar-track { background:rgba(156,178,138,0.08); border-radius:4px; }
  .home-search-full__select::-webkit-scrollbar-thumb { background:linear-gradient(135deg, var(--home-primary), var(--home-secondary)); border-radius:4px; }
  .home-search-full__select::-webkit-scrollbar-thumb:hover { background:var(--home-primary-600); }
}

/* Reset márgenes de contenido para esta vista */
.contenido-pagina,
main.contenido-pagina,
#content, .content{
  margin-top:0!important;
  padding-top:0!important;
}

/* =========================
   Media queries
   ========================= */
@media (max-width:1024px){
  .home-grid{ grid-template-columns:repeat(2,1fr); }
}

@media (max-width:768px){
  .home-hero-full__content{ transform:translateY(-4vh); }
  .home-search-full{ border-radius:20px; flex-direction:column; overflow:visible; }
  .home-search-full__field--select{ min-width:100%; border-right:0; border-bottom:1px solid rgba(156,178,138,.22); }
  .home-search-full__select{ height:60px; background-position:right 1rem center; }
  .home-search-full__input{ height:60px; }
  .home-search-full__btn{ height:60px; }
  :root{ --header-height:56px; }
  .home-recientes__header1{ flex-direction:column; align-items:flex-start; gap:1rem; }
  .home-recientes__line{ width:100%; }
}

@media (max-width:640px){
  .home-grid{ grid-template-columns:1fr; }
  .home-card__image{ height:180px; }
  .home-hero-full__title{ font-size:2rem; }
  .home-hero-full__subtitle{ font-size:1rem; }
  .home-search-full__select option{ font-size:.98rem; padding:0.85rem 1rem; }
}
