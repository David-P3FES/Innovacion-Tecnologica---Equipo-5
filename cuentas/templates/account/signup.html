<!--!
  @file account_signup.html
  @brief Plantilla de Registro (Signup) con integración de login.css y login.js.
-->

{% extends 'base.html' %}
{% load static i18n socialaccount %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/login.css' %}">
<br>

<div class="auth-wrapper">
  <div class="login-container">

    <!--! @section form_section Formulario de registro-->
    <div class="form-section">
      <h2 class="login-title">{% trans "Crea tu cuenta" %}</h2>
      <p class="login-subtitle">{% trans "Regístrate para comenzar tu experiencia" %}</p>

      <!--! @brief Errores generales -->
      {% if form.non_field_errors %}
        <ul class="errorlist">
          {% for e in form.non_field_errors %}<li>{{ e }}</li>{% endfor %}
        </ul>
      {% endif %}

      <!--! @brief Formulario (Allauth: account_signup) -->
      <form method="post" action="{% url 'account_signup' %}" class="login-form" id="signupForm">
        {% csrf_token %}

        <!--! @brief Nombre de usuario -->
        <div class="form-group">
          <input type="text" id="id_username" name="username" required placeholder=" "
                 value="{{ form.username.value|default_if_none:'' }}">
          <label for="id_username">{% trans "Nombre de usuario" %}</label>
          {% if form.username.errors %}
            <ul class="errorlist">{% for e in form.username.errors %}<li>{{ e }}</li>{% endfor %}</ul>
          {% endif %}
        </div>

        <!--! @brief Correo electrónico -->
        <div class="form-group">
          <input type="email" id="id_email" name="email" required placeholder=" "
                 value="{{ form.email.value|default_if_none:'' }}">
          <label for="id_email">{% trans "Correo electrónico" %}</label>
          {% if form.email.errors %}
            <ul class="errorlist">{% for e in form.email.errors %}<li>{{ e }}</li>{% endfor %}</ul>
          {% endif %}
        </div>

        <!--! @brief Contraseña-->
        <div class="form-group password-wrapper">
          <input type="password" id="id_password1" name="password1" required placeholder=" " autocomplete="new-password">
          <label for="id_password1">{% trans "Contraseña" %}</label>
          <button type="button"
                  class="toggle-password"
                  aria-label="{% trans 'Mostrar u ocultar contraseña' %}"
                  onclick="togglePassword('id_password1', this)"
                  style="top: calc(45% + 5px);">
            <i class="fas fa-eye-slash"></i>
          </button>
          {% if form.password1.errors %}
            <ul class="errorlist">{% for e in form.password1.errors %}<li>{{ e }}</li>{% endfor %}</ul>
          {% endif %}
        </div>

        <!--! @brief Confirmar contraseña-->
        <div class="form-group password-wrapper">
          <input type="password" id="id_password2" name="password2" required placeholder=" " autocomplete="new-password">
          <label for="id_password2">{% trans "Confirmar contraseña" %}</label>
          <button type="button"
                  class="toggle-password"
                  aria-label="{% trans 'Mostrar u ocultar contraseña' %}"
                  onclick="togglePassword('id_password2', this)"
                  style="top: calc(45% + 5px);">
            <i class="fas fa-eye-slash"></i>
          </button>
          {% if form.password2.errors %}
            <ul class="errorlist">{% for e in form.password2.errors %}<li>{{ e }}</li>{% endfor %}</ul>
          {% endif %}
        </div>

        <!--! @brief Enviar-->
        <button type="submit" class="btn-principal btn-full" data-loading-text="{% trans 'Creando cuenta…' %}">
          {% trans "Registrarme" %}
        </button>
      </form>

      <!--! @brief Enlace alternativo -->
      <p class="login-alt">
        {% trans "¿Ya tienes una cuenta?" %} <a href="{% url 'account_login' %}">{% trans "Inicia sesión" %}</a>
      </p>
    </div>

    <div class="visual-panel">
      <div class="panel-content">
        <div class="panel-logo">
          <i class="fas fa-user-plus"></i>
        </div>
        <h2>{% trans "Únete a nosotros" %}</h2>
        <p>{% trans "Crea tu cuenta y empieza a disfrutar de todos los beneficios." %}</p>
      </div>
    </div>

  </div>
</div>

<script src="{% static 'js/login.js' %}"></script>
<br>
{% endblock %}
